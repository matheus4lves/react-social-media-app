(self.webpackChunksocial_media_app=self.webpackChunksocial_media_app||[]).push([[758],{7758:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(7294),l=a(1387),n=a(9669),r=a.n(n),c=a(5977),o=a(3727),i=a(7062),m=a(8456),u=a.n(m),d=a(6168),p=a(2210),f=a(7564),E=a(3983);const h=(0,c.EN)((function(e){const{id:t}=(0,c.UO)(),[a,n]=(0,s.useState)(!0),[m,h]=(0,s.useState)(),y=(0,s.useContext)(f.Z),g=(0,s.useContext)(E.Z);if((0,s.useEffect)((()=>{const e=r().CancelToken.source();return async function(){try{const a=await r().get(`/post/${t}`,{cancelToken:e.token});h(a.data),n(!1)}catch(e){console.log(e.response.data)}}(),()=>{e.cancel()}}),[t]),!a&&!m)return s.createElement(p.Z,null);if(a)return s.createElement(l.Z,{title:"..."},s.createElement(i.Z,null));const N=new Date(m.createdDate),w=`${N.getMonth()+1}/${N.getDate()}/${N.getFullYear()}`;return s.createElement(l.Z,{title:m.title},s.createElement("div",{className:"d-flex justify-content-between"},s.createElement("h2",null,m.title),!!y.loggedIn&&y.user.username==m.author.username&&s.createElement("span",{className:"pt-2"},s.createElement(o.rU,{to:`/post/${m._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},s.createElement("i",{className:"fas fa-edit"})),s.createElement(d.Z,{id:"edit",className:"custom-tooltip"})," ",s.createElement("a",{onClick:async function(){if(window.confirm("Do you really want to delete this post?"))try{"Success"==(await r().delete(`/post/${t}`,{data:{token:y.user.token}})).data&&(g({type:"flashMessage",value:"The post was successfully deleted."}),e.history.push(`/profile/${y.user.username}`))}catch(e){console.log(e.response.data)}},"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger"},s.createElement("i",{className:"fas fa-trash"})),s.createElement(d.Z,{id:"delete",className:"custom-tooltip"}))),s.createElement("p",{className:"text-muted small mb-4"},s.createElement(o.rU,{to:`/profile/${m.author.username}`},s.createElement("img",{className:"avatar-tiny",src:m.author.avatar})),"Posted by"," ",s.createElement(o.rU,{to:`/profile/${m.author.username}`},m.author.username)," ","on ",w),s.createElement("div",{className:"body-content"},s.createElement(u(),{children:m.body,allowedTypes:["paragraph","strong","emphasis","text","list","listItem"]})))}))}}]);